#!/bin/bash

# GitHub Personal Access Token (replace with your token)
GITHUB_TOKEN="your_github_token"

# GitHub Organization Name (replace with your organization)
ORG_NAME="your_organization"

# GitHub API URL
API_URL="https://api.github.com/orgs/$ORG_NAME/repos?per_page=100"

# Function to fetch repositories and their URLs
fetch_repos() {
  local page=1
  while : ; do
    response=$(curl -s -H "Authorization: token $GITHUB_TOKEN" "$API_URL&page=$page")
    repo_urls=$(echo "$response" | jq -r '.[].html_url')
    
    # Break the loop if there are no more repositories
    if [ -z "$repo_urls" ]; then
      break
    fi
    
    # Print the repository URLs
    echo "$repo_urls"
    
    # Increment the page number
    ((page++))
  done
}

# Fetch and print all repository URLs
fetch_repos
